{% schema %}
{
  "name": "Mídia com Vídeo",
  "settings": [
    {
      "type": "url",
      "id": "video_url",
      "label": "https://www.youtube.com/watch?v=KjjDoKJ7wec&ab_channel=DAMIAN"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Título"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Descrição"
    },
    {
      "type": "select",
      "id": "layout",
      "label": "Layout",
      "default": "left",
      "options": [
        { "value": "left", "label": "Vídeo à esquerda" },
        { "value": "right", "label": "Vídeo à direita" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Mídia com Vídeo"
    }
  ]
}
{% endschema %}

<div class="media-video-section layout-{{ section.settings.layout }}">
  <div class="video-container">
    <iframe src="{{ section.settings.video_url | escape }}" frameborder="0" allowfullscreen loading="lazy"></iframe>
  </div>
  <div class="text-container">
    <h2>{{ section.settings.heading }}</h2>
    <div>{{ section.settings.description }}</div>
  </div>
</div>

<style>
  .media-video-section {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    padding: 2rem 0;
  }

  .media-video-section.layout-right {
    flex-direction: column-reverse;
  }

  .media-video-section .video-container iframe {
    width: 100%;
    height: 315px;
  }

  @media(min-width: 768px) {
    .media-video-section {
      flex-direction: row;
      align-items: center;
    }

    .media-video-section.layout-right {
      flex-direction: row-reverse;
    }

    .media-video-section .video-container iframe {
      height: 400px;
    }

    .media-video-section .video-container,
    .media-video-section .text-container {
      flex: 1;
    }
  }
</style>
